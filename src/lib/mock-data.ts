import type { 
  Company, 
  Contact, 
  Opportunity, 
  Activity, 
  User, 
  DashboardStats,
  PipelineStage 
} from "@/types/crm"

export const mockPipelineStages: PipelineStage[] = [
  {
    id: 1,
    name: 'Contacto Inicial',
    description: 'Primeiro contacto ou consulta',
    stage_order: 1,
    probability: 10,
    is_active: true,
    create_time: '2024-01-01T00:00:00Z',
    modify_time: '2024-01-01T00:00:00Z',
  },
  {
    id: 2,
    name: 'Qualificado',
    description: 'Contacto foi qualificado como cliente potencial',
    stage_order: 2,
    probability: 25,
    is_active: true,
    create_time: '2024-01-01T00:00:00Z',
    modify_time: '2024-01-01T00:00:00Z',
  },
  {
    id: 3,
    name: 'Proposta',
    description: 'Proposta foi enviada ao prospecto',
    stage_order: 3,
    probability: 50,
    is_active: true,
    create_time: '2024-01-01T00:00:00Z',
    modify_time: '2024-01-01T00:00:00Z',
  },
  {
    id: 4,
    name: 'Negociação',
    description: 'Em negociação activa com o prospecto',
    stage_order: 4,
    probability: 75,
    is_active: true,
    create_time: '2024-01-01T00:00:00Z',
    modify_time: '2024-01-01T00:00:00Z',
  },
  {
    id: 5,
    name: 'Negócio Fechado',
    description: 'Negócio foi fechado com sucesso',
    stage_order: 5,
    probability: 100,
    is_active: true,
    create_time: '2024-01-01T00:00:00Z',
    modify_time: '2024-01-01T00:00:00Z',
  },
  {
    id: 6,
    name: 'Negócio Perdido',
    description: 'Negócio não foi bem-sucedido',
    stage_order: 6,
    probability: 0,
    is_active: true,
    create_time: '2024-01-01T00:00:00Z',
    modify_time: '2024-01-01T00:00:00Z',
  },
]

export const mockCompanies: Company[] = [
  {
    id: 1,
    name: 'Sonangol EP',
    industry: 'Petróleo e Gás',
    size: 'Grande Empresa',
    website: 'https://sonangol.co.ao',
    phone: '+244-222-640-000',
    email: 'geral@sonangol.co.ao',
    address: 'Rua Rainha Ginga, 29/31',
    city: 'Luanda',
    state: 'Luanda',
    country: 'Angola',
    postal_code: '1316',
    logo_url: 'https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=100&h=100&fit=crop',
    description: 'Empresa Nacional de Combustíveis de Angola',
    annual_revenue: 15000000000,
    employee_count: 8000,
    assigned_user_id: 1,
    create_time: '2024-01-15T10:00:00Z',
    modify_time: '2024-01-15T10:00:00Z',
    province: 'Luanda',
    municipality: 'Luanda',
    nif: '5417000001',
    alvara_number: 'ALV/2024/001',
    tax_regime: 'Regime Geral',
  },
  {
    id: 2,
    name: 'Banco de Fomento Angola',
    industry: 'Serviços Financeiros',
    size: 'Grande Empresa',
    website: 'https://bfa.ao',
    phone: '+244-222-638-900',
    email: 'info@bfa.ao',
    address: 'Largo do Kinaxixi, 14',
    city: 'Luanda',
    state: 'Luanda',
    country: 'Angola',
    logo_url: 'https://images.unsplash.com/photo-1541354329998-f4d9a9f9297f?w=100&h=100&fit=crop',
    description: 'Banco comercial angolano',
    annual_revenue: 2500000000,
    employee_count: 3500,
    assigned_user_id: 1,
    create_time: '2024-01-20T14:30:00Z',
    modify_time: '2024-01-20T14:30:00Z',
    province: 'Luanda',
    municipality: 'Luanda',
    nif: '5417000002',
    alvara_number: 'ALV/2024/002',
    tax_regime: 'Regime Geral',
    province: 'Luanda',
    municipality: 'Luanda',
    nif: '5417000002',
    alvara_number: 'ALV/2024/002',
    tax_regime: 'Regime Geral',
  },
  {
    id: 3,
    name: 'Unitel SA',
    industry: 'Telecomunicações',
    size: 'Grande Empresa',
    website: 'https://unitel.ao',
    phone: '+244-923-000-000',
    email: 'contacto@unitel.ao',
    address: 'Rua Frederico Engels, 92',
    city: 'Luanda',
    state: 'Luanda',
    country: 'Angola',
    logo_url: 'https://images.unsplash.com/photo-1516321318423-f06f85e504b3?w=100&h=100&fit=crop',
    description: 'Operadora de telecomunicações móveis',
    annual_revenue: 1800000000,
    employee_count: 2500,
    assigned_user_id: 1,
    create_time: '2024-01-25T09:15:00Z',
    modify_time: '2024-01-25T09:15:00Z',
    province: 'Luanda',
    municipality: 'Luanda',
    nif: '5417000003',
    alvara_number: 'ALV/2024/003',
    tax_regime: 'Regime Geral',
    province: 'Luanda',
    municipality: 'Luanda',
    nif: '5417000003',
    alvara_number: 'ALV/2024/003',
    tax_regime: 'Regime Geral',
  },
  {
    id: 4,
    name: 'Empresa Geral do Fomento',
    industry: 'Construção Civil',
    size: 'Média Empresa',
    website: 'https://egf.ao',
    phone: '+244-222-445-000',
    email: 'geral@egf.ao',
    address: 'Avenida 4 de Fevereiro, 42',
    city: 'Luanda',
    state: 'Luanda',
    country: 'Angola',
    description: 'Empresa de construção e obras públicas',
    annual_revenue: 850000000,
    employee_count: 1200,
    assigned_user_id: 1,
    create_time: '2024-01-28T11:20:00Z',
    modify_time: '2024-01-28T11:20:00Z',
    province: 'Luanda',
    municipality: 'Luanda',
    nif: '5417000004',
    alvara_number: 'ALV/2024/004',
    tax_regime: 'Regime Geral',
    province: 'Luanda',
    municipality: 'Luanda',
    nif: '5417000004',
    alvara_number: 'ALV/2024/004',
    tax_regime: 'Regime Geral',
  },
]

export const mockContacts: Contact[] = [
  {
    id: 1,
    company_id: 1,
    first_name: 'João',
    last_name: 'Santos',
    email: 'joao.santos@sonangol.co.ao',
    phone: '+244-222-640-100',
    mobile: '+244-923-456-789',
    job_title: 'Director Executivo',
    department: 'Direcção Executiva',
    is_primary: true,
    avatar_url: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face',
    notes: 'Decisor principal, prefere comunicação por email',
    assigned_user_id: 1,
    create_time: '2024-01-15T10:30:00Z',
    modify_time: '2024-01-15T10:30:00Z',
    bi_number: '123456789AB123',
    nif: '123456789',
    nationality: 'Angolana',
    province: 'Luanda',
    municipality: 'Luanda',
  },
  {
    id: 2,
    company_id: 2,
    first_name: 'Maria',
    last_name: 'Fernandes',
    email: 'maria.fernandes@bfa.ao',
    phone: '+244-222-638-950',
    mobile: '+244-924-567-890',
    job_title: 'Directora de Tecnologia',
    department: 'Tecnologia',
    is_primary: false,
    avatar_url: 'https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face',
    notes: 'Responsável por decisões técnicas, muito detalhista',
    assigned_user_id: 1,
    create_time: '2024-01-20T15:00:00Z',
    modify_time: '2024-01-20T15:00:00Z',
    bi_number: '987654321CD456',
    nif: '987654321',
    nationality: 'Angolana',
    province: 'Luanda',
    municipality: 'Luanda',
  },
  {
    id: 3,
    company_id: 3,
    first_name: 'Carlos',
    last_name: 'Mendes',
    email: 'carlos.mendes@unitel.ao',
    phone: '+244-923-000-100',
    mobile: '+244-925-678-901',
    job_title: 'Director Comercial',
    department: 'Vendas',
    is_primary: true,
    avatar_url: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face',
    notes: 'Responsável por parcerias estratégicas',
    assigned_user_id: 1,
    create_time: '2024-01-25T09:30:00Z',
    modify_time: '2024-01-25T09:30:00Z',
    bi_number: '456789123EF789',
    nif: '456789123',
    nationality: 'Angolana',
    province: 'Luanda',
    municipality: 'Luanda',
  },
  {
    id: 4,
    company_id: 4,
    first_name: 'Ana',
    last_name: 'Costa',
    email: 'ana.costa@egf.ao',
    phone: '+244-222-445-100',
    mobile: '+244-926-789-012',
    job_title: 'Engenheira Civil',
    department: 'Engenharia',
    is_primary: true,
    avatar_url: 'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face',
    notes: 'Especialista em projectos de grande escala',
    assigned_user_id: 1,
    create_time: '2024-01-28T11:30:00Z',
    modify_time: '2024-01-28T11:30:00Z',
    bi_number: '789123456GH012',
    nif: '789123456',
    nationality: 'Angolana',
    province: 'Luanda',
    municipality: 'Luanda',
  },
]

export const mockOpportunities: Opportunity[] = [
  {
    id: 1,
    name: 'Sistema de Gestão Integrada - Sonangol',
    company_id: 1,
    contact_id: 1,
    assigned_user_id: 1,
    pipeline_stage_id: 3,
    value: 45000000,
    currency: 'AOA',
    probability: 50,
    expected_close_date: '2024-06-15',
    source: 'Sítio Web',
    description: 'Sistema integrado de gestão empresarial para operações petrolíferas',
    status: 'open',
    create_time: '2024-01-15T12:00:00Z',
    modify_time: '2024-01-15T12:00:00Z',
  },
  {
    id: 2,
    name: 'Consultoria em Transformação Digital - BFA',
    company_id: 2,
    contact_id: 2,
    assigned_user_id: 1,
    pipeline_stage_id: 2,
    value: 18500000,
    currency: 'AOA',
    probability: 25,
    expected_close_date: '2024-08-30',
    source: 'Referência',
    description: 'Serviços de consultoria para modernização dos sistemas bancários',
    status: 'open',
    create_time: '2024-01-20T15:00:00Z',
    modify_time: '2024-01-20T15:00:00Z',
  },
  {
    id: 3,
    name: 'Plataforma de Comunicações - Unitel',
    company_id: 3,
    contact_id: 3,
    assigned_user_id: 1,
    pipeline_stage_id: 4,
    value: 32000000,
    currency: 'AOA',
    probability: 75,
    expected_close_date: '2024-04-20',
    source: 'Parceiro',
    description: 'Desenvolvimento de plataforma de comunicações unificadas',
    status: 'open',
    create_time: '2024-01-25T10:00:00Z',
    modify_time: '2024-01-25T10:00:00Z',
  },
  {
    id: 4,
    name: 'Sistema de Gestão de Obras - EGF',
    company_id: 4,
    contact_id: 4,
    assigned_user_id: 1,
    pipeline_stage_id: 2,
    value: 12500000,
    currency: 'AOA',
    probability: 30,
    expected_close_date: '2024-07-10',
    source: 'Referência',
    description: 'Sistema de gestão para projectos de construção civil',
    status: 'open',
    create_time: '2024-01-28T12:00:00Z',
    modify_time: '2024-01-28T12:00:00Z',
  },
]

export const mockActivities: Activity[] = [
  {
    id: 1,
    type: 'meeting',
    subject: 'Demonstração do Produto',
    description: 'Demonstrar novas funcionalidades à equipa do cliente',
    company_id: 1,
    contact_id: 1,
    opportunity_id: 1,
    assigned_user_id: 1,
    created_by_user_id: 1,
    status: 'pending',
    priority: 'high',
    due_date: '2024-02-15T14:00:00Z',
    duration_minutes: 90,
    location: 'Escritório do Cliente - Luanda',
    create_time: '2024-01-15T13:00:00Z',
    modify_time: '2024-01-15T13:00:00Z',
  },
  {
    id: 2,
    type: 'call',
    subject: 'Chamada de Acompanhamento',
    description: 'Acompanhar discussão sobre proposta',
    company_id: 2,
    contact_id: 2,
    opportunity_id: 2,
    assigned_user_id: 1,
    created_by_user_id: 1,
    status: 'completed',
    priority: 'medium',
    due_date: '2024-01-25T10:00:00Z',
    completed_date: '2024-01-25T10:30:00Z',
    duration_minutes: 30,
    create_time: '2024-01-20T16:00:00Z',
    modify_time: '2024-01-25T10:30:00Z',
  },
  {
    id: 3,
    type: 'email',
    subject: 'Envio de Proposta Técnica',
    description: 'Enviar proposta técnica detalhada para o projeto',
    company_id: 3,
    contact_id: 3,
    opportunity_id: 3,
    assigned_user_id: 1,
    created_by_user_id: 1,
    status: 'completed',
    priority: 'high',
    due_date: '2024-01-26T09:00:00Z',
    completed_date: '2024-01-26T09:15:00Z',
    duration_minutes: 15,
    create_time: '2024-01-25T11:00:00Z',
    modify_time: '2024-01-26T09:15:00Z',
  },
  {
    id: 4,
    type: 'task',
    subject: 'Preparar Documentação Técnica',
    description: 'Preparar toda a documentação técnica para a proposta EGF',
    company_id: 4,
    contact_id: 4,
    opportunity_id: 4,
    assigned_user_id: 1,
    created_by_user_id: 1,
    status: 'pending',
    priority: 'medium',
    due_date: '2024-02-05T17:00:00Z',
    duration_minutes: 120,
    create_time: '2024-01-28T13:00:00Z',
    modify_time: '2024-01-28T13:00:00Z',
  },
]

export const mockUsers: User[] = [
  {
    id: 1,
    email: 'demo@crm.com',
    first_name: 'António',
    last_name: 'Silva',
    role: 'sales_manager',
    phone: '+244-923-123-456',
    avatar_url: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face',
    is_active: true,
    last_login: '2024-01-25T09:00:00Z',
    create_time: '2024-01-01T00:00:00Z',
    modify_time: '2024-01-25T09:00:00Z',
    bi_number: '123456789AB123',
    nif: '123456789',
    preferred_language: 'pt-AO',
  },
  {
    id: 2,
    email: 'admin@crm.com',
    first_name: 'Maria',
    last_name: 'Santos',
    role: 'admin',
    phone: '+244-923-456-789',
    avatar_url: 'https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face',
    is_active: true,
    last_login: '2024-01-24T16:30:00Z',
    create_time: '2024-01-01T00:00:00Z',
    modify_time: '2024-01-24T16:30:00Z',
    bi_number: '987654321CD456',
    nif: '987654321',
    preferred_language: 'pt-AO',
  },
  {
    id: 3,
    email: 'vendedor@crm.com',
    first_name: 'João',
    last_name: 'Pereira',
    role: 'sales_rep',
    phone: '+244-923-789-123',
    avatar_url: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face',
    is_active: true,
    last_login: '2024-01-23T11:45:00Z',
    create_time: '2024-01-01T00:00:00Z',
    modify_time: '2024-01-23T11:45:00Z',
    bi_number: '456789123EF789',
    nif: '456789123',
    preferred_language: 'pt-AO',
  },
]

export function getMockDashboardStats(): DashboardStats {
  // Calculate real stats from current data
  const openOpportunities = mockOpportunities.filter(opp => opp.status === 'open').length;
  const wonOpportunities = mockOpportunities.filter(opp => opp.status === 'won').length + 12; // Add some historical wins
  const lostOpportunities = mockOpportunities.filter(opp => opp.status === 'lost').length + 5; // Add some historical losses
  const totalOpportunities = openOpportunities + wonOpportunities + lostOpportunities;
  
  // Calculate revenue from won opportunities + some historical revenue
  const currentRevenue = mockOpportunities
    .filter(opp => opp.status === 'won')
    .reduce((sum, opp) => sum + (opp.value || 0), 0);
  const historicalRevenue = 85000000; // Historical closed deals
  const totalRevenue = currentRevenue + historicalRevenue;
  
  // Calculate activities this week
  const oneWeekAgo = new Date(Date.now() - 7 * 24 * 60 * 60 * 1000);
  const activitiesThisWeek = mockActivities.filter(activity => 
    new Date(activity.create_time) > oneWeekAgo
  ).length + 8; // Add some additional activities

  return {
    totalCompanies: mockCompanies.length,
    totalContacts: mockContacts.length,
    totalOpportunities: totalOpportunities,
    totalRevenue,
    openOpportunities,
    wonOpportunities,
    lostOpportunities,
    activitiesThisWeek,
    conversionRate: (wonOpportunities / totalOpportunities) * 100,
    averageDealSize: totalRevenue / (wonOpportunities || 1),
  }
}